(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-remark-remark"],{"0125":function(t,e,n){"use strict";n.r(e);var i=n("5b04"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"0232":function(t,e,n){"use strict";var i=n("fd0d"),a=n.n(i);a.a},"06c5":function(t,e,n){"use strict";n("a630"),n("fb6a"),n("d3b7"),n("25f0"),n("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=a(n("6b75"));function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(t){if("string"===typeof t)return(0,i.default)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.default)(t,e):void 0}}},"09f0":function(t,e,n){"use strict";function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,o=void 0;try{for(var r,u=t[Symbol.iterator]();!(i=(r=u.next()).done);i=!0)if(n.push(r.value),e&&n.length===e)break}catch(s){a=!0,o=s}finally{try{i||null==u["return"]||u["return"]()}finally{if(a)throw o}}return n}}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"0a10":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \n */.u-rate[data-v-43f1319a]{display:-webkit-inline-flex;display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0;padding:0}.u-icon[data-v-43f1319a]{box-sizing:border-box}',""]),t.exports=e},"0d21":function(t,e,n){"use strict";function i(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},3835:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var i=u(n("0d21")),a=u(n("09f0")),o=u(n("06c5")),r=u(n("3d8c"));function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return(0,i.default)(t)||(0,a.default)(t,e)||(0,o.default)(t,e)||(0,r.default)()}},"3d8c":function(t,e,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"427a":function(t,e,n){var i=n("5663");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("76b4123a",i,!0,{sourceMap:!1,shadowMode:!1})},4449:function(t,e,n){"use strict";n.r(e);var i=n("b986"),a=n("0125");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("5712");var r,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"768aa688",null,!1,i["a"],r);e["default"]=s.exports},4634:function(t,e,n){"use strict";n.r(e);var i=n("b4fd"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"4fad":function(t,e,n){var i=n("23e7"),a=n("6f53").entries;i({target:"Object",stat:!0},{entries:function(t){return a(t)}})},5663:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \n */.item[data-v-768aa688]{border-bottom:1px solid #f4f4f6}.item .goods[data-v-768aa688]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?20?% 0;border-bottom:1px solid #f4f6f8;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.item .goods .left[data-v-768aa688]{margin-right:%?20?%}.item .goods .left uni-image[data-v-768aa688]{width:%?200?%;height:%?150?%;border-radius:%?10?%}.item .goods .content[data-v-768aa688]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.item .goods .content .title[data-v-768aa688]{font-size:%?28?%;line-height:%?40?%}.item .goods .content .type[data-v-768aa688]{margin-top:%?10?%;font-size:%?24?%;color:#909399}',""]),t.exports=e},5712:function(t,e,n){"use strict";var i=n("427a"),a=n.n(i);a.a},"5b04":function(t,e,n){"use strict";var i=n("4ea4");n("4de4"),n("4160"),n("caad"),n("a15b"),n("d81d"),n("4fad"),n("ac1f"),n("1276"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("3835")),o={onLoad:function(t){this.order_sn=t.order_sn||"",this.getDetail()},computed:{header:function(){return{token:this.vuex_token||"",uid:this.vuex_user.id||0}},formdata:function(){var t=this.vuex_config.config&&this.vuex_config.config.upload.multipart||"",e=this.$u.test.object(t);return e?this.vuex_config.config.upload.multipart:{}},uploadurl:function(){return this.vuex_config.upload?this.vuex_config.upload.uploadurl:""}},data:function(){return{showForm:!1,form:{},rules:{},count:5,order_sn:"",info:{},order_goods:[]}},methods:{getDetail:function(){var t=this;this.$api.orderDetail({order_sn:this.order_sn}).then((function(e){if(e.code){t.info=e.data,t.order_goods=e.data.order_goods.filter((function(t){return[0,6].includes(t.salestate)}));var n={},i={};t.order_goods.forEach((function(t,e){n["star__"+e]=5,n["content__"+e]="",n["images__"+e]="",n["goods_id__"+e]=t.goods_id,i["content__"+e]=[{required:!0,message:"请输入评论内容",trigger:["change","blur"]},{min:5,message:"评论不能少于5个字",trigger:"change"}]})),t.form=n,t.rules=i,t.showForm=!0,t.$nextTick((function(){t.$refs.uForm.setRules(t.rules)}))}}))},onUploaded:function(t,e){this.form["images__"+e]=t.map((function(t){return t.response.data.url})).join(",")},onRemove:function(t,e,n){this.form["images__"+n]=e.map((function(t){return t.response.data.url})).join(",")},submit:function(){var t=this;this.$refs.uForm.validate((function(e){if(e){if(!t.order_sn)return void t.$u.toast("参数缺失！");for(var n={order_sn:t.order_sn},i=[],o=0,r=Object.entries(t.form);o<r.length;o++){var u=(0,a.default)(r[o],2),s=u[0],c=u[1],d=s.split("__");void 0==i[d[1]]&&i.push({content:"",goods_id:"",star:5,images:""}),i[d[1]][d[0]]=c}n.remark=i,t.$api.commentAdd(n).then((function(e){t.$u.toast(e.msg),1==e.code&&setTimeout((function(){uni.$u.route({type:"back"})}),1e3)}))}}))}}};e.default=o},"6b75":function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},b1ef:function(t,e,n){"use strict";n.r(e);var i=n("d4f9"),a=n("4634");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("0232");var r,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"43f1319a",null,!1,i["a"],r);e["default"]=s.exports},b4fd:function(t,e,n){"use strict";n("a9e3"),n("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-rate",props:{value:{type:[Number,String],default:-1},count:{type:[Number,String],default:5},current:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:32},inactiveColor:{type:String,default:"#b2b2b2"},activeColor:{type:String,default:"#FA3534"},gutter:{type:[Number,String],default:10},minCount:{type:[Number,String],default:0},allowHalf:{type:Boolean,default:!1},activeIcon:{type:String,default:"star-fill"},inactiveIcon:{type:String,default:"star"},customPrefix:{type:String,default:"uicon"},colors:{type:Array,default:function(){return[]}},icons:{type:Array,default:function(){return[]}}},data:function(){return{elId:this.$u.guid(),elClass:this.$u.guid(),starBoxLeft:0,activeIndex:-1!=this.value?this.value:this.current,starWidth:0,starWidthArr:[]}},watch:{current:function(t){this.activeIndex=t},value:function(t){this.activeIndex=t}},computed:{decimal:function(){return this.disabled?100*this.activeIndex%100:this.allowHalf?50:void 0},elActiveIcon:function(){var t=this.icons.length;if(t&&t<=this.count){var e=Math.round(this.activeIndex/Math.round(this.count/t));return e<1?this.icons[0]:e>t?this.icons[t-1]:this.icons[e-1]}return this.activeIcon},elActiveColor:function(){var t=this.colors.length;if(t&&t<=this.count){var e=Math.round(this.activeIndex/Math.round(this.count/t));return e<1?this.colors[0]:e>t?this.colors[t-1]:this.colors[e-1]}return this.activeColor}},methods:{getElRectById:function(){var t=this;this.$uGetRect("#"+this.elId).then((function(e){t.starBoxLeft=e.left}))},getElRectByClass:function(){var t=this;this.$uGetRect("."+this.elClass).then((function(e){t.starWidth=e.width;for(var n=0;n<t.count;n++)t.starWidthArr[n]=(n+1)*t.starWidth}))},touchMove:function(t){if(!this.disabled&&t.changedTouches[0]){var e=t.changedTouches[0].pageX,n=e-this.starBoxLeft;n<=0&&(this.activeIndex=0);var i=Math.ceil(n/this.starWidth);this.activeIndex=i>this.count?this.count:i,this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),this.emitEvent()}},click:function(t,e){this.disabled||(this.allowHalf,1==t?1==this.activeIndex?this.activeIndex=0:this.activeIndex=1:this.activeIndex=t,this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),this.emitEvent())},emitEvent:function(){this.$emit("change",this.activeIndex),-1!=this.value&&this.$emit("input",this.activeIndex)},showDecimalIcon:function(t){return this.disabled&&parseInt(this.activeIndex)===t}},mounted:function(){this.getElRectById(),this.getElRectByClass()}};e.default=i},b986:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={faNavbar:n("d1e5").default,uForm:n("464c").default,uFormItem:n("5ec4").default,uRate:n("b1ef").default,uInput:n("bbfd").default,uUpload:n("ee1c").default,uButton:n("871b").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("fa-navbar",{attrs:{title:"评价","border-bottom":!1}}),n("v-uni-view",{staticClass:"u-p-30"},[t.showForm?n("v-uni-view",{},[n("u-form",{ref:"uForm",attrs:{model:t.form}},t._l(t.order_goods,(function(e,i){return n("v-uni-view",{key:i,staticClass:"item"},[n("v-uni-view",{staticClass:"goods"},[n("v-uni-view",{staticClass:"left"},[n("v-uni-image",{attrs:{src:e.image,mode:"aspectFill"}})],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"title u-line-2"},[t._v(t._s(e.title))]),n("v-uni-view",{staticClass:"type u-line-2"},[t._v(t._s(e.attrdata||""))]),n("u-form-item",{staticStyle:{padding:"0"},attrs:{"border-bottom":!1,prop:"star__"+i}},[n("u-rate",{attrs:{count:t.count},model:{value:t.form["star__"+i],callback:function(e){t.$set(t.form,"star__"+i,e)},expression:"form['star__' + index]"}})],1)],1)],1),n("v-uni-view",{},[n("u-form-item",{staticStyle:{padding:"0"},attrs:{"label-position":"top","border-bottom":!1,prop:"content__"+i}},[n("u-input",{attrs:{type:"textarea",height:"150",maxlength:"150",fixed:!0},model:{value:t.form["content__"+i],callback:function(e){t.$set(t.form,"content__"+i,e)},expression:"form['content__' + index]"}})],1)],1),n("v-uni-view",{staticClass:"u-m-b-30"},[n("u-upload",{ref:"uUpload",refInFor:!0,attrs:{width:"150",height:"150",action:t.uploadurl,header:t.header,"form-data":t.formdata,index:i},on:{"on-uploaded":function(e){arguments[0]=e=t.$handleEvent(e),t.onUploaded.apply(void 0,arguments)},"on-remove":function(e){arguments[0]=e=t.$handleEvent(e),t.onRemove.apply(void 0,arguments)}}})],1)],1)})),1)],1):t._e()],1),n("v-uni-view",{staticClass:"u-p-60"},[n("u-button",{attrs:{type:"primary","hover-class":"none","custom-style":{backgroundColor:t.theme.bgColor,color:t.theme.color},shape:"circle"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("立即提交")])],1)],1)},o=[]},d4f9:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uIcon:n("6efb").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-rate",attrs:{id:t.elId},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)}}},t._l(t.count,(function(e,i){return n("v-uni-view",{key:i,staticClass:"u-star-wrap",class:[t.elClass]},[n("u-icon",{attrs:{name:t.activeIndex>i?t.elActiveIcon:t.inactiveIcon,color:t.activeIndex>i?t.elActiveColor:t.inactiveColor,"custom-style":{fontSize:t.size+"rpx",padding:"0 "+t.gutter/2+"rpx"},"custom-prefix":t.customPrefix,"show-decimal-icon":t.showDecimalIcon(i),percent:t.decimal,"inactive-color":t.inactiveColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click(i+1,e)}}})],1)})),1)},o=[]},fd0d:function(t,e,n){var i=n("0a10");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("a0b3f34a",i,!0,{sourceMap:!1,shadowMode:!1})}}]);